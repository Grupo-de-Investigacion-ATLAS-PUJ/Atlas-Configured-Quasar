sudo: required

language: cpp

services:
 - docker

before_install:
 - docker pull bfarnham/quasar:quasar-open62541

jobs:
  include:
    - name: test_cache_variables
      script:
        - docker run  --interactive --tty bfarnham/quasar:quasar-open62541 /bin/sh -c "
           source .travis/job_prologue.sh ;
           cp .travis/test_cases/test_cache_variables/Design.xml Design ;
           python quasar.py enable_module open62541-compat ;
           python quasar.py set_build_config open62541_config.cmake ;
           python quasar.py prepare_build Release ;
           python quasar.py build Release ;
           exit ;
           "
    - name: default_quasar_design
      script:
        - docker run  --interactive --tty bfarnham/quasar:quasar-open62541 /bin/sh -c "
           source .travis/job_prologue.sh ; 
           python quasar.py enable_module open62541-compat ;
           python quasar.py set_build_config open62541_config.cmake ;
           python quasar.py prepare_build Release ;
           python quasar.py build Release ;
           exit ;
           "
